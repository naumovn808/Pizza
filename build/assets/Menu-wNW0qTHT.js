import{a as l,j as s,c as _,r as i,L as m,P as h}from"./index-s-pHteQ7.js";const{Axios:T,AxiosError:p,CanceledError:D,isCancel:J,CancelToken:V,VERSION:X,all:q,Cancel:z,isAxiosError:B,spread:G,toFormData:K,AxiosHeaders:Q,HttpStatusCode:U,formToJSON:W,getAdapter:Y,mergeConfig:Z}=l,x="_h1_4ei42_1",g={h1:x};function f({children:e,className:t,...n}){return s.jsx("h1",{className:_(t,g.h1),...n,children:e})}const N="_input_1sspg_1",v="_icon_1sspg_47",d={input:N,"input-wrapper":"_input-wrapper_1sspg_39",icon:v},b=i.forwardRef(function({isValid:t=!0,className:n,...a},o){return s.jsxs("div",{className:d["input-wrapper"],children:[s.jsx("input",{placeholder:"Введите блюдо или состав",ref:o,className:_(d.input,n,{[d.invalid]:t}),...a}),s.jsx("img",{className:d.icon,src:"/search-icon.svg",alt:"Иконка лупы"})]})}),y="_head_3skuk_1",k={head:y},w="_head_1jbo2_1",E="_card_1jbo2_13",$="_footer_1jbo2_37",C="_title_1jbo2_45",S="_description_1jbo2_61",A="_link_1jbo2_77",F="_price_1jbo2_85",I="_currency_1jbo2_113",L="_rating_1jbo2_121",r={head:w,card:E,footer:$,title:C,description:S,link:A,price:F,currency:I,rating:L,"add-to-cart":"_add-to-cart_1jbo2_151"};function P(e){return s.jsx(m,{to:`/product/${e.id}`,className:r.link,children:s.jsxs("div",{className:r.card,children:[s.jsxs("div",{className:r.head,style:{backgroundImage:`url('${e.image}')`},children:[s.jsxs("div",{className:r.price,children:[e.price," ",s.jsx("span",{className:r.currency,children:"₽"})]}),s.jsx("button",{className:r["add-to-cart"],children:s.jsx("img",{src:"/cart-button-icon.svg",alt:"Добавить в корзину"})}),s.jsxs("div",{className:r.rating,children:[e.rating," ",s.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),s.jsxs("div",{className:r.footer,children:[s.jsx("div",{className:r.title,children:e.name}),s.jsx("div",{className:r.description,children:e.description})]})]})})}const R="_wrapper_1mdrh_1",H={wrapper:R};function M({products:e}){return s.jsx("div",{className:H.wrapper,children:e.map(t=>s.jsx(P,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function ss(){const[e,t]=i.useState([]),[n,a]=i.useState(!1),[o,u]=i.useState(),j=async()=>{try{a(!0);const{data:c}=await l.get(`${h}/products`);t(c),a(!1)}catch(c){console.error(c),c instanceof p&&u(c.message),a(!1);return}};return i.useEffect(()=>{j()},[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:k.head,children:[s.jsx(f,{children:"Меню"}),";",s.jsx(b,{})]}),s.jsxs("div",{children:[s.jsx("div",{children:o&&s.jsx(s.Fragment,{children:o})}),!n&&s.jsx(M,{products:e}),n&&s.jsx(s.Fragment,{children:"загружаем"})]})]})}export{ss as Menu,ss as default};
