import{a as l,j as e,c as _,r as c,L as m,P as h}from"./index-7444d41f.js";const{Axios:T,AxiosError:p,CanceledError:z,isCancel:D,CancelToken:J,VERSION:V,all:X,Cancel:q,isAxiosError:B,spread:G,toFormData:K,AxiosHeaders:Q,HttpStatusCode:U,formToJSON:W,mergeConfig:Y}=l,f="_h1_11jyv_1",g={h1:f};function j({children:s,className:t,...n}){return e.jsx("h1",{className:_(t,g.h1),...n,children:s})}const N="_input_1e1bp_1",v="_icon_1e1bp_18",d={input:N,"input-wrapper":"_input-wrapper_1e1bp_14",icon:v},y=c.forwardRef(function({isValid:t=!0,className:n,...i},o){return e.jsxs("div",{className:d["input-wrapper"],children:[e.jsx("input",{ref:o,className:_(d.input,n,{[d.invalid]:t}),...i}),e.jsx("img",{className:d.icon,src:"/search-icon.svg",alt:"Иконка лупы"})]})}),w="_head_12z56_1",E={head:w},$="_head_6efxi_1",k="_card_6efxi_7",C="_footer_6efxi_14",S="_title_6efxi_18",b="_description_6efxi_26",F="_link_6efxi_34",I="_price_6efxi_38",L="_currency_6efxi_52",A="_rating_6efxi_56",r={head:$,card:k,footer:C,title:S,description:b,link:F,price:I,currency:L,rating:A,"add-to-cart":"_add-to-cart_6efxi_71"};function P(s){return e.jsx(m,{to:`/product/${s.id}`,className:r.link,children:e.jsxs("div",{className:r.card,children:[e.jsxs("div",{className:r.head,style:{backgroundImage:`url('${s.image}')`},children:[e.jsxs("div",{className:r.price,children:[s.price," ",e.jsx("span",{className:r.currency,children:"₽"})]}),e.jsx("button",{className:r["add-to-cart"],children:e.jsx("img",{src:"/cart-button-icon.svg",alt:"Добавить в корзину"})}),e.jsxs("div",{className:r.rating,children:[s.rating," ",e.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),e.jsxs("div",{className:r.footer,children:[e.jsx("div",{className:r.title,children:s.name}),e.jsx("div",{className:r.description,children:s.description})]})]})})}const R="_wrapper_7fxue_1",H={wrapper:R};function M({products:s}){return e.jsx("div",{className:H.wrapper,children:s.map(t=>e.jsx(P,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function Z(){const[s,t]=c.useState([]),[n,i]=c.useState(!1),[o,u]=c.useState(),x=async()=>{try{i(!0);const{data:a}=await l.get(`${h}/products`);t(a),i(!1)}catch(a){console.error(a),a instanceof p&&u(a.message),i(!1);return}};return c.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.head,children:[e.jsx(j,{children:"Меню"}),e.jsx(y,{placeholder:"Введите блюдо или состав"})]}),e.jsxs("div",{children:[o&&e.jsx(e.Fragment,{children:o}),!n&&e.jsx(M,{products:s}),n&&e.jsx(e.Fragment,{children:"Загружаем продукты..."})]})]})}export{Z as Menu,Z as default};
